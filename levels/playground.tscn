[gd_scene load_steps=24 format=3 uid="uid://bav4nold6hwyy"]

[ext_resource type="Script" path="res://ui/ui_controller.gd" id="1_6o1aj"]
[ext_resource type="PackedScene" uid="uid://dygd6db6rvm2q" path="res://entities/player/player.tscn" id="2_j65jg"]
[ext_resource type="Shader" uid="uid://brqnb56miitcl" path="res://assets/shaders/sky.tres" id="3_cte70"]
[ext_resource type="PackedScene" uid="uid://cwhs6yyyhv826" path="res://entities/goal/goal.tscn" id="3_venmi"]
[ext_resource type="Shader" path="res://assets/shaders/fog.gdshader" id="5_pdk30"]
[ext_resource type="PackedScene" uid="uid://o44psmqo2iv2" path="res://entities/enemy/enemy.tscn" id="6_k43d8"]
[ext_resource type="PackedScene" uid="uid://b8h27a7rrjuvx" path="res://assets/geometry/bank.glb" id="7_gxmrt"]
[ext_resource type="PackedScene" uid="uid://dhovhjkal20qh" path="res://assets/geometry/tree.glb" id="7_ik1uy"]
[ext_resource type="PackedScene" uid="uid://2j04it80udmv" path="res://assets/geometry/fence.glb" id="7_jvsnu"]
[ext_resource type="PackedScene" uid="uid://duiv4xijn3p7b" path="res://assets/geometry/bush.glb" id="8_f7cot"]
[ext_resource type="PackedScene" uid="uid://cbgayclm4xwhr" path="res://assets/geometry/house_1.glb" id="11_ic2bx"]
[ext_resource type="Material" path="res://assets/materials/grass.material" id="12_ovojh"]

[sub_resource type="ShaderMaterial" id="ShaderMaterial_g6cek"]
shader = ExtResource("3_cte70")

[sub_resource type="Sky" id="Sky_qru6y"]
sky_material = SubResource("ShaderMaterial_g6cek")

[sub_resource type="Environment" id="Environment_2gkn7"]
background_mode = 2
sky = SubResource("Sky_qru6y")
sky_rotation = Vector3(3.48787e-16, 3.39641, 3.48787e-16)
ambient_light_source = 2
ambient_light_color = Color(0.654902, 0.698039, 0.890196, 1)
reflected_light_source = 1
glow_enabled = true

[sub_resource type="QuadMesh" id="QuadMesh_vn55h"]
size = Vector2(2, 2)

[sub_resource type="Gradient" id="Gradient_nv3ke"]
offsets = PackedFloat32Array(0, 0.368852)
colors = PackedColorArray(0, 0, 0, 0, 0.537255, 0.8, 1, 1)

[sub_resource type="GradientTexture1D" id="GradientTexture1D_ln60q"]
gradient = SubResource("Gradient_nv3ke")

[sub_resource type="ShaderMaterial" id="ShaderMaterial_pn3ta"]
render_priority = 0
shader = ExtResource("5_pdk30")
shader_parameter/fog_intensity = 0.687
shader_parameter/fog_amount = 0.01
shader_parameter/gradient = SubResource("GradientTexture1D_ln60q")

[sub_resource type="Gradient" id="Gradient_6hxyc"]
colors = PackedColorArray(0.039619, 0.00663296, 0.000184421, 1, 0.788235, 0.419608, 0, 1)

[sub_resource type="GradientTexture2D" id="GradientTexture2D_g02wg"]
gradient = SubResource("Gradient_6hxyc")
fill_from = Vector2(0.989474, 0.342105)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_bfy8d"]
albedo_texture = SubResource("GradientTexture2D_g02wg")
clearcoat = 0.24
subsurf_scatter_strength = 0.4
grow_amount = 3.165

[sub_resource type="TubeTrailMesh" id="TubeTrailMesh_6jf5d"]
material = SubResource("StandardMaterial3D_bfy8d")
radius = 4.46
radial_steps = 24
sections = 16
section_length = 0.5

[node name="Playground" type="Node3D"]

[node name="Player" parent="." instance=ExtResource("2_j65jg")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1.73291, 1.23703, 36.6443)

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="."]
transform = Transform3D(0.74246, -0.356228, 0.567323, -0.286977, 0.596105, 0.749869, -0.605308, -0.719556, 0.340355, 0, 9.86703, 0)
shadow_enabled = true
shadow_opacity = 0.52

[node name="Goal" parent="." instance=ExtResource("3_venmi")]
transform = Transform3D(2.98023e-08, 0, -1, 0, 1, 0, 1, 0, 2.98023e-08, 0, 0.0665698, 9.9089)

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_2gkn7")

[node name="UI" type="Control" parent="."]
layout_mode = 3
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
script = ExtResource("1_6o1aj")

[node name="Fog" type="MeshInstance3D" parent="."]
mesh = SubResource("QuadMesh_vn55h")
surface_material_override/0 = SubResource("ShaderMaterial_pn3ta")

[node name="Enemy" parent="." instance=ExtResource("6_k43d8")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 9.18383, 0, 25.1478)

[node name="Enemy2" parent="." instance=ExtResource("6_k43d8")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.142906, 0, 12.8923)

[node name="Enemy3" parent="." instance=ExtResource("6_k43d8")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -4.82944, 0, 24.6449)

[node name="Props" type="Node3D" parent="."]

[node name="bank" parent="Props" instance=ExtResource("7_gxmrt")]
transform = Transform3D(-0.918908, 0, 0.394471, 0, 1, 0, -0.394471, 0, -0.918908, -7.49238, 0, 28.8867)

[node name="bank3" parent="Props" instance=ExtResource("7_gxmrt")]
transform = Transform3D(0.904916, 0, 0.42559, 0, 1, 0, -0.42559, 0, 0.904916, 15.9919, 0, 18.4199)

[node name="bank4" parent="Props" instance=ExtResource("7_gxmrt")]
transform = Transform3D(0.526896, 0, 0.84993, 0, 1, 0, -0.84993, 0, 0.526896, 8.79669, 0, 18.0023)

[node name="fence" parent="Props" instance=ExtResource("7_jvsnu")]
transform = Transform3D(0.914833, 0, -0.403833, 0, 1, 0, 0.403833, 0, 0.914833, 9.38789, 0, 31.0107)

[node name="fence2" parent="Props" instance=ExtResource("7_jvsnu")]
transform = Transform3D(0.769979, 0, -0.638069, 0, 1, 0, 0.638069, 0, 0.769979, 11.6601, 0, 27.4261)

[node name="fence3" parent="Props" instance=ExtResource("7_jvsnu")]
transform = Transform3D(0.999498, 0, -0.0316899, 0, 1, 0, 0.0316899, 0, 0.999498, 13.1113, 0, 23.5598)

[node name="fence4" parent="Props" instance=ExtResource("7_jvsnu")]
transform = Transform3D(0.79296, 0, 0.609274, 0, 1, 0, -0.609274, 0, 0.79296, 12.0471, 0, 19.851)

[node name="fence5" parent="Props" instance=ExtResource("7_jvsnu")]
transform = Transform3D(0.522811, 0, 0.852449, 0, 1, 0, -0.852449, 0, 0.522811, 9.01556, 0, 17.1098)

[node name="fence6" parent="Props" instance=ExtResource("7_jvsnu")]
transform = Transform3D(0.943425, 0, 0.331585, 0, 1, 0, -0.331585, 0, 0.943425, 6.82256, 0, 14.0138)

[node name="fence7" parent="Props" instance=ExtResource("7_jvsnu")]
transform = Transform3D(0.921457, 0, -0.388481, 0, 1, 0, 0.388481, 0, 0.921457, -6.17644, 0, 13.8715)

[node name="fence8" parent="Props" instance=ExtResource("7_jvsnu")]
transform = Transform3D(0.984313, 0, -0.176432, 0, 1, 0, 0.176432, 0, 0.984313, -7.4342, 0, 17.8382)

[node name="fence9" parent="Props" instance=ExtResource("7_jvsnu")]
transform = Transform3D(0.997156, 0, 0.0753617, 0, 1, 0, -0.0753617, 0, 0.997156, -7.7567, 0, 22.0308)

[node name="fence10" parent="Props" instance=ExtResource("7_jvsnu")]
transform = Transform3D(0.992328, 0, -0.123636, 0, 1, 0, 0.123636, 0, 0.992328, -7.95019, 0, 26.1588)

[node name="fence11" parent="Props" instance=ExtResource("7_jvsnu")]
transform = Transform3D(0.918819, 0, -0.39468, 0, 1, 0, 0.39468, 0, 0.918819, -9.0467, 0, 30.061)

[node name="fence12" parent="Props" instance=ExtResource("7_jvsnu")]
transform = Transform3D(0.992713, 0, 0.120501, 0, 1, 0, -0.120501, 0, 0.992713, -9.44158, 0, 34.0537)

[node name="fence13" parent="Props" instance=ExtResource("7_jvsnu")]
transform = Transform3D(0.834232, 0, 0.551413, 0, 1, 0, -0.551413, 0, 0.834232, -8.08143, 0, 37.5638)

[node name="fence14" parent="Props" instance=ExtResource("7_jvsnu")]
transform = Transform3D(0.559017, 0.0178538, 0.828964, -0.00998215, 0.999841, -0.0148025, -0.829096, 0, 0.559106, -5.2295, 0, 40.4157)

[node name="fence15" parent="Props" instance=ExtResource("7_jvsnu")]
transform = Transform3D(0.0237168, 0, 0.999719, 0, 1, 0, -0.999719, 0, 0.0237168, -1.58782, 0, 41.6442)

[node name="fence16" parent="Props" instance=ExtResource("7_jvsnu")]
transform = Transform3D(-0.281504, 0, 0.95956, 0, 1, 0, -0.95956, 0, -0.281504, 2.5365, 0, 40.9861)

[node name="fence17" parent="Props" instance=ExtResource("7_jvsnu")]
transform = Transform3D(-0.714277, 0, 0.699863, 0, 1, 0, -0.699863, 0, -0.714277, 6.09045, 0, 38.7484)

[node name="fence18" parent="Props" instance=ExtResource("7_jvsnu")]
transform = Transform3D(-0.975076, 0, 0.221872, 0, 1, 0, -0.221872, 0, -0.975076, 7.93324, 0, 35.1067)

[node name="tree" parent="Props" instance=ExtResource("7_ik1uy")]
transform = Transform3D(0.06657, 0, 0.997782, 0, 1, 0, -0.997782, 0, 0.06657, -14.7722, 0, 26.3451)

[node name="tree2" parent="Props" instance=ExtResource("7_ik1uy")]
transform = Transform3D(0.925336, 0, -0.379149, 0, 1, 0, 0.379149, 0, 0.925336, 22.5183, 0, 26.3451)

[node name="tree3" parent="Props" instance=ExtResource("7_ik1uy")]
transform = Transform3D(0.925336, 0, -0.379149, 0, 1, 0, 0.379149, 0, 0.925336, 11.6432, 0, 35.6618)

[node name="tree4" parent="Props" instance=ExtResource("7_ik1uy")]
transform = Transform3D(0.999597, 0, 0.0283753, 0, 1, 0, -0.0283753, 0, 0.999597, 11.6432, 0, 13.2299)

[node name="tree7" parent="Props" instance=ExtResource("7_ik1uy")]
transform = Transform3D(0.999597, 0, 0.0283753, 0, 1, 0, -0.0283753, 0, 0.999597, 0.582804, 1.90735e-06, -7.99205)

[node name="tree8" parent="Props" instance=ExtResource("7_ik1uy")]
transform = Transform3D(0.92126, 0, 0.388947, 0, 1, 0, -0.388947, 0, 0.92126, 6.09144, 0, -5.23543)

[node name="tree9" parent="Props" instance=ExtResource("7_ik1uy")]
transform = Transform3D(0.0504362, 0, -0.998727, 0, 1, 0, 0.998727, 0, 0.0504362, -19.0444, -0.878178, 2.37608)

[node name="tree5" parent="Props" instance=ExtResource("7_ik1uy")]
transform = Transform3D(0.831111, 0, -0.556107, 0, 1, 0, 0.556107, 0, 0.831111, 19.6264, 0, 16.424)

[node name="tree6" parent="Props" instance=ExtResource("7_ik1uy")]
transform = Transform3D(0.605711, 0, 0.795685, 0, 1, 0, -0.795685, 0, 0.605711, -11.1071, 0, 13.2299)

[node name="bush" parent="Props" instance=ExtResource("8_f7cot")]
transform = Transform3D(-0.643108, 0, 0.765775, 0, 1, 0, -0.765775, 0, -0.643108, 11.2506, 0, 31.4748)

[node name="bush3" parent="Props" instance=ExtResource("8_f7cot")]
transform = Transform3D(-0.643108, 0, 0.765775, 0, 1, 0, -0.765775, 0, -0.643108, 18.3937, 0, 26.3476)

[node name="bush5" parent="Props" instance=ExtResource("8_f7cot")]
transform = Transform3D(-0.298225, 0, -0.954496, 0, 1, 0, 0.954496, 0, -0.298225, -11.9033, 0, 26.3476)

[node name="bush7" parent="Props" instance=ExtResource("8_f7cot")]
transform = Transform3D(0.242938, 0, -0.970042, 0, 1, 0, 0.970042, 0, 0.242938, -10.9633, 0, 21.4168)

[node name="bush6" parent="Props" instance=ExtResource("8_f7cot")]
transform = Transform3D(-0.550961, 0, -0.834531, 0, 1, 0, 0.834531, 0, -0.550961, -8.27821, 0, 14.2902)

[node name="bush2" parent="Props" instance=ExtResource("8_f7cot")]
transform = Transform3D(-0.999895, 0, 0.0145206, 0, 1, 0, -0.0145206, 0, -0.999895, 10.1916, 0, 16.3682)

[node name="house_1" parent="Props" instance=ExtResource("11_ic2bx")]
transform = Transform3D(-0.73392, 0, -0.318372, 0, 0.8, 0, 0.318372, 0, -0.73392, -8.85018, -0.16255, -4.08678)

[node name="CSGCombiner3D" type="CSGCombiner3D" parent="."]
use_collision = true

[node name="CSGBox3D" type="CSGBox3D" parent="CSGCombiner3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -5.05275, 7.09484)
use_collision = true
size = Vector3(151.559, 10, 208.372)
material = ExtResource("12_ovojh")

[node name="CSGMesh3D" type="CSGMesh3D" parent="CSGCombiner3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 2.74584, -3.30837, 20.8828)
operation = 2
mesh = SubResource("TubeTrailMesh_6jf5d")
